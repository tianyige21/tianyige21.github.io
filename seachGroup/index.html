<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>eslintrc.js  .prettierrc | ServerlessUi</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon">
    <meta name="description" content="一个有意思的组件库">
    
    <link rel="preload" href="/assets/css/0.styles.adbad7cb.css" as="style"><link rel="preload" href="/assets/js/app.c24e80e0.js" as="script"><link rel="preload" href="/assets/js/2.d0417a1e.js" as="script"><link rel="preload" href="/assets/js/11.6f681373.js" as="script"><link rel="prefetch" href="/assets/js/10.476c2fcb.js"><link rel="prefetch" href="/assets/js/12.c11988f6.js"><link rel="prefetch" href="/assets/js/13.cc88f269.js"><link rel="prefetch" href="/assets/js/14.2aacc829.js"><link rel="prefetch" href="/assets/js/15.f449cbcc.js"><link rel="prefetch" href="/assets/js/3.51b618b5.js"><link rel="prefetch" href="/assets/js/4.ef81351b.js"><link rel="prefetch" href="/assets/js/5.a12bc981.js"><link rel="prefetch" href="/assets/js/6.41bc1243.js"><link rel="prefetch" href="/assets/js/7.02783ed9.js"><link rel="prefetch" href="/assets/js/8.5340b92c.js"><link rel="prefetch" href="/assets/js/9.504319d5.js">
    <link rel="stylesheet" href="/assets/css/0.styles.adbad7cb.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">ServerlessUi</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://www.baidu.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  CSDN博客
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://www.baidu.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  掘金
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><span class="title">更多</span> <span class="arrow down"></span></button> <button type="button" aria-label="更多" class="mobile-dropdown-title"><span class="title">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://www.baidu.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  其他说明
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://www.baidu.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  CSDN博客
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://www.baidu.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  掘金
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><span class="title">更多</span> <span class="arrow down"></span></button> <button type="button" aria-label="更多" class="mobile-dropdown-title"><span class="title">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://www.baidu.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  其他说明
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/" aria-current="page" class="sidebar-link">介绍</a></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>测试分组</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/testGroup/" class="sidebar-link">第一项</a></li><li><a href="/testGroup/second.html" class="sidebar-link">测试第二项</a></li><li><a href="/testGroup/second.html" class="sidebar-link">san</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>博客</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/seachGroup/" aria-current="page" class="active sidebar-link">前端知识点</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/seachGroup/#eslintrc-js-prettierrc" class="sidebar-link">eslintrc.js  .prettierrc</a></li><li class="sidebar-sub-header"><a href="/seachGroup/#verdaccio-组件包管理器" class="sidebar-link">verdaccio  -- 组件包管理器</a></li><li class="sidebar-sub-header"><a href="/seachGroup/#storybook-vue-组件库文档" class="sidebar-link">storybook+vue -- 组件库文档</a></li><li class="sidebar-sub-header"><a href="/seachGroup/#vuepress" class="sidebar-link">vuepress</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/seachGroup/#vuepress-theme-hope" class="sidebar-link">vuepress-theme-hope</a></li></ul></li><li class="sidebar-sub-header"><a href="/seachGroup/#混入比较好的场景使用" class="sidebar-link">混入比较好的场景使用</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/seachGroup/#风险" class="sidebar-link">风险</a></li></ul></li></ul></li><li><a href="/seachGroup/one.html" class="sidebar-link">面试宝典</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="eslintrc-js-prettierrc"><a href="#eslintrc-js-prettierrc" class="header-anchor">#</a> <code>eslintrc.js</code> <code>.prettierrc</code></h2> <p>在 Vue 项目中，需要检查和格式化的代码不仅包括 JavaScript 代码，还包括 Vue 单文件组件中的 HTML 和 CSS 代码。为了支持对 Vue 单文件组件的检查和格式化，需要在项目中安装额外的 ESLint 插件和 Prettier 插件。</p> <p>以下是在 Vue 项目中使用 <code>.eslintrc.js</code> 和 <code>.prettierrc</code> 文件的一些基本步骤：</p> <ol><li>安装 ESLint、eslint-plugin-vue 和 Prettier：</li></ol> <p>在命令行中执行以下命令：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">npm</span> <span class="token function">install</span> eslint eslint-plugin-vue --save-dev
<span class="token function">npm</span> <span class="token function">install</span> prettier --save-dev
</code></pre></div><ol start="2"><li>创建 <code>.eslintrc.js</code> 文件：</li></ol> <p>在项目根目录下创建 .eslintrc.js 文件，并添加对应的规则和选项，例如：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token keyword">extends</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'eslint:recommended'</span><span class="token punctuation">,</span> <span class="token string">'plugin:vue/essential'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">'no-console'</span><span class="token operator">:</span> <span class="token string">'error'</span><span class="token punctuation">,</span>
    <span class="token string-property property">'no-debugger'</span><span class="token operator">:</span> <span class="token string">'error'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>这里配置了使用 Vue 官方推荐的规则和禁止使用 console 和 debugger 的规则。</p> <ol start="3"><li>创建 <code>.prettierrc</code> 文件：</li></ol> <p>在项目根目录下创建 <code>.prettierrc</code> 文件，并添加对应的选项，例如：</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;semi&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;singleQuote&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre></div><p>这里设置了去除分号和使用单引号的选项。</p> <ol start="4"><li>在 VS Code 中安装 Vetur 插件：</li></ol> <p>Vetur 是一个 VS Code 插件，用于提供 Vue 单文件组件的语法高亮、格式化、错误检查等功能。在 VS Code 中搜索并安装 Vetur 插件。</p> <ol start="5"><li>配置 VS Code 设置：</li></ol> <p>在 VS Code 的设置中搜索 &quot;eslint&quot; 和 &quot;prettier&quot;，分别进行配置。例如，可以设置保存时自动格式化代码、保存时自动修复 ESLint 错误、使用 Prettier 进行代码格式化等。</p> <blockquote><p>配置 Vetur 插件。在你的项目根目录中创建 .vscode/settings.json 文件，并添加以下内容：</p></blockquote> <div class="language-JSON extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;vetur.format.defaultFormatter.html&quot;</span><span class="token operator">:</span> <span class="token string">&quot;prettier&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;vetur.format.defaultFormatter.js&quot;</span><span class="token operator">:</span> <span class="token string">&quot;prettier-eslint&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>完成以上步骤后，在 Vue 项目中编写代码时，ESLint 和 Prettier 会自动检查和格式化代码，Vetur 插件也会提供代码高亮和错误检查功能。需要注意的是，不同的项目可能有不同的规则和选项，需要根据实际情况进行配置。</p> <h1 id="二、本地搭建-npm-私服"><a href="#二、本地搭建-npm-私服" class="header-anchor">#</a> 二、本地搭建 npm 私服</h1> <h2 id="verdaccio-组件包管理器"><a href="#verdaccio-组件包管理器" class="header-anchor">#</a> <code>verdaccio</code>  -- 组件包管理器</h2> <hr> <blockquote><p>以下是在本地搭建 npm 私服的步骤：</p></blockquote> <ol><li><p>首先安装 Node.js 和 npm。你可以在官网下载并安装最新版本的 Node.js：https://nodejs.org/</p></li> <li><p>安装 verdaccio。你可以在终端中运行以下命令来全局安装 verdaccio：</p></li></ol> <div class="language-powershell extra-class"><pre class="language-powershell"><code>npm install <span class="token operator">-</span>g verdaccio
</code></pre></div><ol start="3"><li>启动 verdaccio。在终端中输入以下命令：</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code>verdaccio
</code></pre></div><ol start="4"><li>访问 verdaccio 的 web 界面。在浏览器中输入以下地址：</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token literal-property property">http</span><span class="token operator">:</span><span class="token operator">/</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">localhost:4873</span><span class="token regex-delimiter">/</span></span>
</code></pre></div><ol><li>配置 npm。在终端中输入以下命令：</li></ol> <div class="language-powershell extra-class"><pre class="language-powershell"><code>npm config <span class="token function">set</span> registry http:<span class="token operator">/</span><span class="token operator">/</span>localhost:4873/
</code></pre></div><ol><li>注册用户。在终端中输入以下命令：</li></ol> <div class="language-powershell extra-class"><pre class="language-powershell"><code>npm adduser <span class="token operator">--</span>registry http:<span class="token operator">/</span><span class="token operator">/</span>localhost:4873/
</code></pre></div><p>输入用户名、密码和邮箱地址等信息，按照提示操作即可。</p> <blockquote><p><strong>TIP:</strong> 配置 npm 的认证信息。在终端中输入以下命令配置 npm 的认证信息：</p></blockquote> <div class="language-powershell extra-class"><pre class="language-powershell"><code>npm <span class="token function">set</span> always-auth true
npm login <span class="token operator">--</span>registry http:<span class="token operator">/</span><span class="token operator">/</span>localhost:4873/
</code></pre></div><div class="language- extra-class"><pre><code>根据提示输入你的账号和密码等信息。这个命令将会将你的认证信息存储在本地，以便在发布或安装 npm 包时使用。
</code></pre></div><ol><li>发布你的包。在你的项目目录中，运行以下命令发布你的包：</li></ol> <div class="language-powershell extra-class"><pre class="language-powershell"><code>npm publish <span class="token operator">--</span>registry http:<span class="token operator">/</span><span class="token operator">/</span>localhost:4873/
</code></pre></div><h5 id="现在你已经成功在本地搭建了-npm-私服-并可以发布和安装你的包。在你的-vue-项目中-你可以通过以下命令安装你的包"><a href="#现在你已经成功在本地搭建了-npm-私服-并可以发布和安装你的包。在你的-vue-项目中-你可以通过以下命令安装你的包" class="header-anchor">#</a> 现在你已经成功在本地搭建了 npm 私服，并可以发布和安装你的包。在你的 Vue 项目中，你可以通过以下命令安装你的包：</h5> <div class="language-powershell extra-class"><pre class="language-powershell"><code> npm install your-package-name <span class="token operator">--</span>registry http:<span class="token operator">/</span><span class="token operator">/</span>localhost:4873/
</code></pre></div><blockquote><p><strong>TIP:几种特殊情况：</strong></p> <ol><li>lsof -i :4873 没有返回
确认 verdaccio 是否已经启动。在终端中输入以下命令，查看当前是否有 verdaccio 进程正在运行：</li></ol> <div class="language-powershell extra-class"><pre class="language-powershell"><code>   <span class="token function">ps</span> <span class="token operator">-</span>ef <span class="token punctuation">|</span> grep verdaccio
</code></pre></div><ol start="2"><li>如果系统返回 EADDRINUSE 错误，表示端口仍然被占用。你可以尝试修改 verdaccio 的监听端口，方法如下：</li></ol> <div class="language-powershell extra-class"><pre class="language-powershell"><code>verdaccio <span class="token operator">--</span>listen http:<span class="token operator">/</span><span class="token operator">/</span>localhost:4874
</code></pre></div><p>这个命令将 verdaccio 的监听端口修改为 4874，如果该端口没有被占用，则可以启动成功。</p></blockquote> <p><strong><em>TIP：其他命令</em></strong></p> <ol><li>NPM 包的最新版本号：<div class="language-powershell extra-class"><pre class="language-powershell"><code>npm view some-package version
</code></pre></div></li> <li>使用 <code>npm root -g</code> 命令查找全局模块的安装目录</li></ol> <h2 id="storybook-vue-组件库文档"><a href="#storybook-vue-组件库文档" class="header-anchor">#</a> storybook+vue -- 组件库文档</h2> <p>Storybook 可以与 Vue.js 集成，以便在开发 UI 组件时进行交互式开发、测试和文档编写。下面是在 Vue.js 中集成 Storybook 的一般步骤：</p> <ol><li>安装 Storybook
首先，您需要全局安装 @storybook/cli 工具。您可以使用以下命令进行安装：</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> <span class="token parameter variable">-g</span> @storybook/cli
</code></pre></div><p>或者，如果您使用的是 Yarn，可以使用以下命令进行安装：</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">yarn</span> global <span class="token function">add</span> @storybook/cli
</code></pre></div><ol start="2"><li>初始化 Storybook
在 Vue.js 项目的根目录下，使用以下命令初始化 Storybook：</li></ol> <div class="language-powershell extra-class"><pre class="language-powershell"><code>sb init <span class="token operator">--</span><span class="token function">type</span> vue
</code></pre></div><p>这将在项目中创建一个 .storybook 目录和相关的配置文件。</p> <ol start="3"><li>创建 Storybook 组件
创建一个 Storybook 组件是指创建一个可以在 Storybook 中展示的 Vue.js 组件。您可以在 .storybook/stories 目录下创建一个新的 .js 文件，并编写您的组件代码。</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> storiesOf <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@storybook/vue'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> MyButton <span class="token keyword">from</span> <span class="token string">'../components/MyButton.vue'</span><span class="token punctuation">;</span>

<span class="token function">storiesOf</span><span class="token punctuation">(</span><span class="token string">'MyButton'</span><span class="token punctuation">,</span> module<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">'with text'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span> MyButton <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token string">'&lt;my-button&gt;Click me&lt;/my-button&gt;'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">'with emoji'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span> MyButton <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token string">'&lt;my-button&gt;😀 😎 👍 💯&lt;/my-button&gt;'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ol start="4"><li>启动 Storybook
使用以下命令启动 Storybook：</li></ol> <div class="language-powershell extra-class"><pre class="language-powershell"><code>npm run storybook
</code></pre></div><p>或者，如果您使用的是 Yarn，可以使用以下命令启动 Storybook：</p> <div class="language-powershell extra-class"><pre class="language-powershell"><code>yarn storybook
</code></pre></div><p>这将启动 Storybook 并在浏览器中打开 Storybook 界面。您可以在界面中查看您的组件并进行交互式开发、测试和文档编写。
以上是在 Vue.js 中集成 Storybook 的一般步骤。需要注意的是，这只是一个简单的示例，您可以根据自己的需求进行定制和扩展。</p> <h2 id="vuepress"><a href="#vuepress" class="header-anchor">#</a> <code>vuepress</code></h2> <blockquote><p>VuePress 是一个基于 Vue.js 的静态站点生成器，它专门用于创建文档网站。VuePress 可以通过 Markdown 语言编写内容，提供了灵活的主题和插件机制，使得创建文档网站变得更加容易和方便。
以下是使用 VuePress 创建文档网站的一般步骤：</p></blockquote> <ol><li>安装 VuePress
在开始之前，您需要全局安装 VuePress。您可以使用以下命令进行安装：</li></ol> <div class="language-powershell extra-class"><pre class="language-powershell"><code>npm install <span class="token operator">-</span>g vuepress
</code></pre></div><p>或者，如果您使用的是 Yarn，可以使用以下命令进行安装：</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">yarn</span> global <span class="token function">add</span> vuepress
</code></pre></div><ol start="2"><li>创建 VuePress 项目
在命令行中进入要创建文档网站的目录，然后使用以下命令创建一个新的 VuePress 项目：</li></ol> <div class="language-powershell extra-class"><pre class="language-powershell"><code>vuepress create my-docs
</code></pre></div><p>这将创建一个名为 my-docs 的新目录，其中包含一个基本的 VuePress 项目。</p> <ol start="3"><li>编写文档
在 my-docs 目录中，您可以使用 Markdown 语言编写文档。您可以在 docs 目录下创建一个新的 .md 文件，并在其中编写您的文档内容。</li></ol> <div class="language-powershell extra-class"><pre class="language-powershell"><code><span class="token comment"># Hello, VuePress!</span>
This is my first VuePress document<span class="token punctuation">.</span>
</code></pre></div><ol start="4"><li>启动 VuePress
使用以下命令启动 VuePress：</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">cd</span> my-docs
<span class="token function">npm</span> run dev
</code></pre></div><p>或者，如果您使用的是 Yarn，可以使用以下命令启动 VuePress：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">cd</span> my-docs
<span class="token function">yarn</span> dev
</code></pre></div><p>这将启动一个本地开发服务器，并在浏览器中打开 VuePress 界面。您可以在界面中查看您的文档并进行编辑和预览。</p> <ol start="5"><li>构建 VuePress
使用以下命令构建 VuePress 站点：</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">npm</span> run build
</code></pre></div><p>这将生成一个静态的 VuePress 站点，并将其输出到 docs/.vuepress/dist 目录中。您可以将这个目录中的文件部署到任何支持静态网站的服务器上。
以上是使用 VuePress 创建文档网站的一般步骤。需要注意的是，这只是一个简单的示例，您可以根据自己的需求进行定制和扩展。
具体查看官方文档安装说明</p> <h3 id="vuepress-theme-hope"><a href="#vuepress-theme-hope" class="header-anchor">#</a> vuepress-theme-hope</h3> <p>可以看下这个<a href="https://theme-hope.vuejs.press/zh/" target="_blank" rel="noopener noreferrer"><code>https://theme-hope.vuejs.press/zh/</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="混入比较好的场景使用"><a href="#混入比较好的场景使用" class="header-anchor">#</a> 混入比较好的场景使用</h2> <ul><li>分离子组件里面的业务逻辑</li></ul> <blockquote><p>将组件的内部操作逻辑分离出来，将组件的切换和参数分配的逻辑放到了父组件中。这样，子组件只需要专注于自己的功能实现，而不需要考虑与其他组件的交互。这样可以降低组件之间的耦合度，使代码更加清晰、易于维护。</p></blockquote> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 父组件 <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
 <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
   <span class="token operator">&lt;</span>button v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">&quot;(item, index) in components&quot;</span> <span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">&quot;index&quot;</span> @click<span class="token operator">=</span><span class="token string">&quot;selectComponent(index)&quot;</span><span class="token operator">&gt;</span>
     <span class="token punctuation">{</span><span class="token punctuation">{</span> item<span class="token punctuation">.</span>name <span class="token punctuation">}</span><span class="token punctuation">}</span>
   <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
   <span class="token operator">&lt;</span>component <span class="token operator">:</span>is<span class="token operator">=</span><span class="token string">&quot;selectedComponent&quot;</span> v<span class="token operator">-</span>bind<span class="token operator">=</span><span class="token string">&quot;selectedComponentProps&quot;</span> v<span class="token operator">-</span>on<span class="token operator">=</span><span class="token string">&quot;selectedComponentListeners&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>component<span class="token operator">&gt;</span>
 <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">import</span> componentA <span class="token keyword">from</span> <span class="token string">'./components/ComponentA.vue'</span>
<span class="token keyword">import</span> componentB <span class="token keyword">from</span> <span class="token string">'./components/ComponentB.vue'</span>
<span class="token keyword">import</span> componentC <span class="token keyword">from</span> <span class="token string">'./components/ComponentC.vue'</span>

<span class="token comment">// 定义混入对象，用于动态传递组件的 props 和事件监听器</span>
<span class="token keyword">const</span> mixin <span class="token operator">=</span> <span class="token punctuation">{</span>
 <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token keyword">return</span> <span class="token punctuation">{</span>
     <span class="token literal-property property">selectedComponentProps</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
     <span class="token literal-property property">selectedComponentListeners</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
   <span class="token punctuation">}</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
 <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'DynamicComponent'</span><span class="token punctuation">,</span>
 <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span>
   componentA<span class="token punctuation">,</span>
   componentB<span class="token punctuation">,</span>
   componentC
 <span class="token punctuation">}</span><span class="token punctuation">,</span>
 <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token keyword">return</span> <span class="token punctuation">{</span>
     <span class="token literal-property property">selectedComponent</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
     <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">[</span>
       <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'Component A'</span><span class="token punctuation">,</span> <span class="token literal-property property">component</span><span class="token operator">:</span> <span class="token string">'componentA'</span><span class="token punctuation">,</span> <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">prop1</span><span class="token operator">:</span> <span class="token string">'value1'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token literal-property property">listeners</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">click</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>handleClick <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
       <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'Component B'</span><span class="token punctuation">,</span> <span class="token literal-property property">component</span><span class="token operator">:</span> <span class="token string">'componentB'</span><span class="token punctuation">,</span> <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">prop2</span><span class="token operator">:</span> <span class="token string">'value2'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token literal-property property">listeners</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">input</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>handleInput <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
       <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'Component C'</span><span class="token punctuation">,</span> <span class="token literal-property property">component</span><span class="token operator">:</span> <span class="token string">'componentC'</span><span class="token punctuation">,</span> <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">prop3</span><span class="token operator">:</span> <span class="token string">'value3'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token literal-property property">listeners</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">change</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>handleChange <span class="token punctuation">}</span> <span class="token punctuation">}</span>
     <span class="token punctuation">]</span>
   <span class="token punctuation">}</span>
 <span class="token punctuation">}</span><span class="token punctuation">,</span>
 <span class="token literal-property property">mixins</span><span class="token operator">:</span> <span class="token punctuation">[</span>mixin<span class="token punctuation">]</span><span class="token punctuation">,</span>
 <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
   <span class="token function">selectComponent</span><span class="token punctuation">(</span><span class="token parameter">index</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token keyword">const</span> component <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>components<span class="token punctuation">[</span>index<span class="token punctuation">]</span>
     <span class="token keyword">this</span><span class="token punctuation">.</span>selectedComponent <span class="token operator">=</span> component<span class="token punctuation">.</span>component
     <span class="token keyword">this</span><span class="token punctuation">.</span>selectedComponentProps <span class="token operator">=</span> component<span class="token punctuation">.</span>props
     <span class="token keyword">this</span><span class="token punctuation">.</span>selectedComponentListeners <span class="token operator">=</span> component<span class="token punctuation">.</span>listeners
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token function">handleClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'click event'</span><span class="token punctuation">)</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token function">handleInput</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'input event'</span><span class="token punctuation">)</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token function">handleChange</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'change event'</span><span class="token punctuation">)</span>
   <span class="token punctuation">}</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

</code></pre></div><ul><li><code>混入</code>可以将重复的代码提取出来，并使代码更具可复用性。</li></ul> <p>如 loading，登录状态，当然也可以写在全局里面，但是我们如果遇到多个组件需要绑定一个相同的事件，例如 <code>window.resize</code>，或者在几个页面中获取地址信息的时候，混入会节省很多代码量，相当于 Django 里面的<code>装饰器</code>的赋能功能，还有就是混入有<code>Vue.prototype</code>不可替换的优势，就是它自带生命周期，根据组件的生命周期针对组件进行一些特定的处理。比如可以在 <code>created</code> 钩子中初始化一些数据或添加一些方法，也可以在 <code>mounted</code> 钩子中操作 <code>DOM</code> 元素等等。通过混入，可以将这些针对特定组件的逻辑分离出来，提高了代码的复用性和可维护性。相比之下，<code>Vue.prototype</code> 是全局的，无法针对特定组件进行特定的处理。如果需要在特定组件中使用某些全局的方法或属性，需要在该组件中再次定义并调用。此外，还可以通过<code>动态判断</code>的情况变换混入传入的类型。</p> <p>混入对象的代码如下所示：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> resizeMixin <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 绑定 window.resize 事件</span>
    window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'resize'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>onWindowResize<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">beforeDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 解绑 window.resize 事件</span>
    window<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">'resize'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>onWindowResize<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">onWindowResize</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 处理 window.resize 事件</span>
      <span class="token comment">// ...</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>在需要绑定 window.resize 事件的组件中，可以将该混入对象添加进去：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> resizeMixin <span class="token keyword">from</span> <span class="token string">'@/mixins/resizeMixin'</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">mixins</span><span class="token operator">:</span> <span class="token punctuation">[</span>resizeMixin<span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// 在组件中可以访问混入对象中定义的 onWindowResize 方法</span>
    <span class="token function">onWindowResize</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 在这里可以处理组件特定的 window.resize 事件</span>
      <span class="token comment">// ...</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p><strong><em>TIP</em></strong>:这样，我们就可以在多个组件中复用绑定 window.resize 事件的代码，从而避免在每个组件中都编写相同的代码，减少代码的冗余程度，同时也可以提高代码的可维护性</p> <h3 id="风险"><a href="#风险" class="header-anchor">#</a> 风险</h3> <blockquote><p>混入调用宿主组件的函数可能会存在一些风险。由于混入是在组件创建之前就被调用的，而宿主组件的生命周期钩子函数是在组件创建之后才被调用的，如果混入调用了宿主组件的函数，而这个函数需要访问组件实例中的数据或者 DOM 元素，此时这些数据或 DOM 元素可能还没有被创建或初始化，会导致错误的发生。因此，在混入中调用宿主组件的函数时，需要确保这些函数只是对已经创建或初始化的数据进行操作。同时，也需要注意不要覆盖宿主组件中的同名函数，避免产生意外的行为。</p></blockquote> <h4 id="避免方法"><a href="#避免方法" class="header-anchor">#</a> 避免方法：</h4> <p><code>传递参数</code>：可以在混入中定义一个方法，这个方法接受组件实例作为参数，然后再将它作为参数传递给宿主组件的函数。这样可以确保在宿主组件的函数被调用时，组件实例已经创建或初始化完成。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>     <span class="token comment">// MyMixin.js</span>
     <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
       <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
         <span class="token function">mixinMethod</span><span class="token punctuation">(</span><span class="token parameter">vm<span class="token punctuation">,</span> options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
           <span class="token comment">// do something...</span>
         <span class="token punctuation">}</span>
       <span class="token punctuation">}</span>
     <span class="token punctuation">}</span>

     <span class="token comment">// MyComponent.vue</span>
     <span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
       <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>My Component<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
     <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

     <span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
     <span class="token keyword">import</span> MyMixin <span class="token keyword">from</span> <span class="token string">'./MyMixin'</span>

     <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
       <span class="token literal-property property">mixins</span><span class="token operator">:</span> <span class="token punctuation">[</span>MyMixin<span class="token punctuation">]</span><span class="token punctuation">,</span>
       <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token comment">// 调用混入中的方法，并传递组件实例和参数</span>
         <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">mixinMethod</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">foo</span><span class="token operator">:</span> <span class="token string">'bar'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
       <span class="token punctuation">}</span>
     <span class="token punctuation">}</span>
     <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div><p>在这个例子中，我们定义了一个混入，其中包含了一个方法 mixinMethod，它接受组件实例和一些参数作为输入。在组件的生命周期钩子函数 created 中，我们通过<code>this.mixinMethod(this, { foo: 'bar' })</code>来调用混入中的方法，并将组件实例和一个包含参数的对象作为参数传递进去。这样，我们就可以避免在混入中调用宿主组件函数时的风险，同时又能够传递参数来完成一些具体的逻辑。</p> <hr> <p><code>事件机制</code>：宿主组件可以在创建或初始化完成后，触发一个自定义事件，混入中监听这个事件并在事件处理函数中调用自己的方法。这样可以确保在混入中的方法执行时，组件实例已经被创建或初始化完成。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// MyMixin.js</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
<span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
 <span class="token function">mixinMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'mixinMethodCalled'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">foo</span><span class="token operator">:</span> <span class="token string">'bar'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// MyComponent.vue</span>
<span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>My Component<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">import</span> MyMixin <span class="token keyword">from</span> <span class="token string">'./MyMixin'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
<span class="token literal-property property">mixins</span><span class="token operator">:</span> <span class="token punctuation">[</span>MyMixin<span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">mixinMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
 <span class="token function">handleMixinMethodCalled</span><span class="token punctuation">(</span><span class="token parameter">payload</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token comment">// do something with the payload...</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token comment">// 监听自定义事件</span>
 <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$on</span><span class="token punctuation">(</span><span class="token string">'mixinMethodCalled'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>handleMixinMethodCalled<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token function">beforeDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token comment">// 取消自定义事件监听</span>
 <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$off</span><span class="token punctuation">(</span><span class="token string">'mixinMethodCalled'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>handleMixinMethodCalled<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

</code></pre></div><p>在这个例子中，我们定义了一个混入，其中包含了一个方法 mixinMethod，它通过 this.$emit('mixinMethodCalled', { foo: 'bar' })来触发一个自定义事件 mixinMethodCalled，并将一个包含参数的对象作为事件负载(payload)。</p> <p>在组件的生命周期钩子函数 mounted 中，我们调用混入中的方法 this.mixinMethod()，从而触发自定义事件。同时，在组件的生命周期钩子函数 created 中，我们使用 this.$on方法来监听自定义事件，并将事件处理函数this.handleMixinMethodCalled作为回调函数传递进去。在组件销毁前，我们使用this.$off 方法来取消事件监听。</p> <p>这样，我们就可以使用自定义事件的方式来实现混入和宿主组件之间的通信，从而避免混入调用宿主组件函数时的风险。</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/testGroup/second.html" class="prev">
        san
      </a></span> <span class="next"><a href="/seachGroup/one.html">
        面试宝典
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.c24e80e0.js" defer></script><script src="/assets/js/2.d0417a1e.js" defer></script><script src="/assets/js/11.6f681373.js" defer></script>
  </body>
</html>
